import{n as s}from"./index.09d4a7cb.js";import"./vendor.96ebac8f.js";var l=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",[e._l(e.todos,function(t,r){return n("section",{key:r,class:{ongoing:!t.done,completed:t.done,dragging:!t.done&&e.dragging},attrs:{draggable:!t.done,"data-todo":t},on:{dragstart:function(o){return e.handleDragstart(o,t)},dragover:function(o){!t.done&&e.handleDragover(o)},drop:function(o){!t.done&&e.handleDrop(o)},dragend:e.handleDragend}},[n("div",{staticClass:"mask",attrs:{"data-todo":JSON.stringify(t)}}),n("div",{staticClass:"checkbox",class:{checked:t.done},on:{click:function(o){return e.handleDoneTodo(t.id)}}}),n("div",{staticClass:"content"},[e._v(e._s(t.content))]),n("div",{staticClass:"delete"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"mini"},on:{click:function(o){return e.handleEditTodo(t.id,t.content)}}})],1),n("div",{staticClass:"delete"},[n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(o){return e.handleDeleteTodo(t.id)}}})],1)])}),n("el-dialog",{attrs:{title:"\u4FEE\u6539\u5F85\u529E\u4E8B\u9879",visible:e.dialogFormVisible,width:"600px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{nativeOn:{submit:function(t){t.preventDefault()}}},[n("el-form-item",[n("el-input",{attrs:{autocomplete:"off",placeholder:"\u5F85\u529E\u4E8B\u9879"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleClose.apply(null,arguments)}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\u53D6 \u6D88")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handleClose}},[e._v("\u786E \u5B9A")])],1)],1)],2)},d=[];const c={name:"List",props:["todos"],data(){return{dialogFormVisible:!1,id:0,content:"",dragging:!1}},methods:{handleDoneTodo(e){this.$store.commit("doneTodo",e)},handleEditTodo(e,i){this.id=e,this.content=i,this.dialogFormVisible=!0},handleDeleteTodo(e){this.$store.commit("deleteTodo",e)},handleClose(){if(!this.content.trim()){this.dialogFormVisible=!1;return}this.$store.commit("editTodo",{id:this.id,content:this.content}),this.dialogFormVisible=!1},handleDragstart(e,i){this.dragging=!0,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",JSON.stringify(i))},handleDragover(e){e.preventDefault()},handleDrop(e){e.preventDefault();const i=JSON.parse(e.dataTransfer.getData("text/plain")).id,n=JSON.parse(e.target.dataset.todo).id;console.log(i,n),this.$store.commit("swapTodoPosition",[i,n])},handleDragend(){this.dragging=!1},handleEmpty(){}}},a={};var u=s(c,l,d,!1,f,"1fa487c0",null,null);function f(e){for(let i in a)this[i]=a[i]}var h=function(){return u.exports}();export{h as default};
